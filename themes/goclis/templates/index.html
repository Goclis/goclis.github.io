{% extends "base.html" %}

{% block title %}
{% if articles_page and articles_paginator.num_pages > 1 and articles_page.has_previous() %}
{{ super() }} - Page {{ articles_page.number }}
{% else %}
{{ super() }}
{% endif %}
{% endblock title %}

{% block content %}
<section class="content-wrap">
    <div class="container">
        <div class="row">
            <main class="col-md-offset-1 col-md-10 main-content">
                {% if articles %}
                {% for article in (articles_page.object_list if articles_page else articles) %}
                <article id="{{ article.slug }}" class="post">
                    <div class="post-head">
                        <h1 class="post-title">
                            <a href="{{ SITEURL }}/{{ article.url }}">{{ article.title }}</a>
                        </h1>
                        <div class="post-meta">
                            <span class="author">作者：<a href="/{{ article.author.url }}">{{ article.author }}</a></span> •
                            <time class="post-date" datetime="{{ article.date.isoformat() }}" title="{{ article.date.isoformat() }}">{{ article.locale_date }}</time>
                        </div>
                    </div>
                    {% if article.thumbnail %}
                    <section class="featured-media">
                        <img src="{{ article.thumbnail }}">
                    </section>
                    {% endif %}
                    <div class="post-content">
                        {{ article.summary }}
                    </div>
                    <div class="post-permalink">
                        <a href="/{{ article.url }}" class="btn btn-default">阅读全文</a>
                    </div>
                    <footer class="post-footer clearfix">
                        <div class="pull-left tag-list">
                            <i class="fa fa-folder-open-o"></i>
                            {% for tag in article.tags|sort %}
                            <a href="/{{ tag.url }}">{{ tag }}</a>
                            {% endfor %}
                        </div>
                        <div class="pull-right share">
                        </div>
                    </footer>
                </article>
                {% endfor %}
                {% endif %}

                {% include 'pagination.html' %}
            </main>
        </div>
    </div>
</section>
{% endblock content %}
